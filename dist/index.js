var e,n,t,_,r,o={},l=[],i=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function u(e,n){for(var t in n)e[t]=n[t];return e}function c(e){var n=e.parentNode;n&&n.removeChild(e)}function a(e,n,t){var _,r,o,l=arguments,i={};for(o in n)"key"==o?_=n[o]:"ref"==o?r=n[o]:i[o]=n[o];if(arguments.length>3)for(t=[t],o=3;o<arguments.length;o++)t.push(l[o]);if(null!=t&&(i.children=t),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===i[o]&&(i[o]=e.defaultProps[o]);return s(e,i,_,r,null)}function s(n,t,_,r,o){var l={type:n,props:t,key:_,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++e.__v:o};return null!=e.vnode&&e.vnode(l),l}function f(e){return e.children}function p(e,n){this.props=e,this.context=n}function d(e,n){if(null==n)return e.__?d(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?d(e):null}function h(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return h(e)}}function v(r){(!r.__d&&(r.__d=!0)&&n.push(r)&&!y.__r++||_!==e.debounceRendering)&&((_=e.debounceRendering)||t)(y)}function y(){for(var e;y.__r=n.length;)e=n.sort(function(e,n){return e.__v.__b-n.__v.__b}),n=[],e.some(function(e){var n,t,_,r,o,l,i;e.__d&&(l=(o=(n=e).__v).__e,(i=n.__P)&&(t=[],(_=u({},o)).__v=o.__v+1,r=S(i,o,_,n.__n,void 0!==i.ownerSVGElement,null!=o.__h?[l]:null,t,null==l?d(o):l,o.__h),H(t,o),r!=l&&h(o)))})}function m(e,n,t,_,r,i,u,a,p,h){var v,y,m,b,k,w,x,E=_&&_.__k||l,H=E.length;for(p==o&&(p=null!=u?u[0]:H?d(_,0):null),t.__k=[],v=0;v<n.length;v++)if(null!=(b=t.__k[v]=null==(b=n[v])||"boolean"==typeof b?null:"string"==typeof b||"number"==typeof b?s(null,b,null,null,b):Array.isArray(b)?s(f,{children:b},null,null,null):null!=b.__e||null!=b.__c?s(b.type,b.props,b.key,null,b.__v):b)){if(b.__=t,b.__b=t.__b+1,null===(m=E[v])||m&&b.key==m.key&&b.type===m.type)E[v]=void 0;else for(y=0;y<H;y++){if((m=E[y])&&b.key==m.key&&b.type===m.type){E[y]=void 0;break}m=null}k=S(e,b,m=m||o,r,i,u,a,p,h),(y=b.ref)&&m.ref!=y&&(x||(x=[]),m.ref&&x.push(m.ref,null,b),x.push(y,b.__c||k,b)),null!=k?(null==w&&(w=k),p=g(e,b,m,E,u,k,p),h||"option"!=t.type?"function"==typeof t.type&&(t.__d=p):e.value=""):p&&m.__e==p&&p.parentNode!=e&&(p=d(m))}if(t.__e=w,null!=u&&"function"!=typeof t.type)for(v=u.length;v--;)null!=u[v]&&c(u[v]);for(v=H;v--;)null!=E[v]&&A(E[v],E[v]);if(x)for(v=0;v<x.length;v++)N(x[v],x[++v],x[++v])}function g(e,n,t,_,r,o,l){var i,u,c;if(void 0!==n.__d)i=n.__d,n.__d=void 0;else if(r==t||o!=l||null==o.parentNode)e:if(null==l||l.parentNode!==e)e.appendChild(o),i=null;else{for(u=l,c=0;(u=u.nextSibling)&&c<_.length;c+=2)if(u==o)break e;e.insertBefore(o,l),i=l}return void 0!==i?i:o.nextSibling}function b(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]=null==t?"":"number"!=typeof t||i.test(n)?t:t+"px"}function k(e,n,t,_,r){var o,l,i;if(r&&"className"==n&&(n="class"),"style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(n in _)t&&n in t||b(e.style,n,"");if(t)for(n in t)_&&t[n]===_[n]||b(e.style,n,t[n])}else"o"===n[0]&&"n"===n[1]?(o=n!==(n=n.replace(/Capture$/,"")),(l=n.toLowerCase())in e&&(n=l),n=n.slice(2),e.l||(e.l={}),e.l[n+o]=t,i=o?x:w,t?_||e.addEventListener(n,i,o):e.removeEventListener(n,i,o)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&"size"!==n&&"download"!==n&&"href"!==n&&!r&&n in e?e[n]=null==t?"":t:"function"!=typeof t&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/xlink:?/,""))?null==t||!1===t?e.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),t):null==t||!1===t&&!/^ar/.test(n)?e.removeAttribute(n):e.setAttribute(n,t))}function w(n){this.l[n.type+!1](e.event?e.event(n):n)}function x(n){this.l[n.type+!0](e.event?e.event(n):n)}function E(e,n,t){var _,r;for(_=0;_<e.__k.length;_++)(r=e.__k[_])&&(r.__=e,r.__e&&("function"==typeof r.type&&r.__k.length>1&&E(r,n,t),n=g(t,r,r,e.__k,null,r.__e,n),"function"==typeof e.type&&(e.__d=n)))}function S(n,t,_,r,i,c,a,s,d){var h,v,y,g,b,w,x,S,H,N,A,T=t.type;if(void 0!==t.constructor)return null;null!=_.__h&&(d=_.__h,s=t.__e=_.__e,t.__h=null,c=[s]),(h=e.__b)&&h(t);try{e:if("function"==typeof T){if(S=t.props,H=(h=T.contextType)&&r[h.__c],N=h?H?H.props.value:h.__:r,_.__c?x=(v=t.__c=_.__c).__=v.__E:("prototype"in T&&T.prototype.render?t.__c=v=new T(S,N):(t.__c=v=new p(S,N),v.constructor=T,v.render=P),H&&H.sub(v),v.props=S,v.state||(v.state={}),v.context=N,v.__n=r,y=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=T.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=u({},v.__s)),u(v.__s,T.getDerivedStateFromProps(S,v.__s))),g=v.props,b=v.state,y)null==T.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==T.getDerivedStateFromProps&&S!==g&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(S,N),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(S,v.__s,N)||t.__v===_.__v){v.props=S,v.state=v.__s,t.__v!==_.__v&&(v.__d=!1),v.__v=t,t.__e=_.__e,t.__k=_.__k,v.__h.length&&a.push(v),E(t,s,n);break e}null!=v.componentWillUpdate&&v.componentWillUpdate(S,v.__s,N),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(g,b,w)})}v.context=N,v.props=S,v.state=v.__s,(h=e.__r)&&h(t),v.__d=!1,v.__v=t,v.__P=n,h=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(r=u(u({},r),v.getChildContext())),y||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(g,b)),A=null!=h&&h.type==f&&null==h.key?h.props.children:h,m(n,Array.isArray(A)?A:[A],t,_,r,i,c,a,s,d),v.base=t.__e,t.__h=null,v.__h.length&&a.push(v),x&&(v.__E=v.__=null),v.__e=!1}else null==c&&t.__v===_.__v?(t.__k=_.__k,t.__e=_.__e):t.__e=function(e,n,t,_,r,i,u,c){var a,s,f,p,d,h=t.props,v=n.props;if(r="svg"===n.type||r,null!=i)for(a=0;a<i.length;a++)if(null!=(s=i[a])&&((null===n.type?3===s.nodeType:s.localName===n.type)||e==s)){e=s,i[a]=null;break}if(null==e){if(null===n.type)return document.createTextNode(v);e=r?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type,v.is&&{is:v.is}),i=null,c=!1}if(null===n.type)h===v||c&&e.data===v||(e.data=v);else{if(null!=i&&(i=l.slice.call(e.childNodes)),f=(h=t.props||o).dangerouslySetInnerHTML,p=v.dangerouslySetInnerHTML,!c){if(null!=i)for(h={},d=0;d<e.attributes.length;d++)h[e.attributes[d].name]=e.attributes[d].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}(function(e,n,t,_,r){var o;for(o in t)"children"===o||"key"===o||o in n||k(e,o,null,t[o],_);for(o in n)r&&"function"!=typeof n[o]||"children"===o||"key"===o||"value"===o||"checked"===o||t[o]===n[o]||k(e,o,n[o],t[o],_)})(e,v,h,r,c),p?n.__k=[]:(a=n.props.children,m(e,Array.isArray(a)?a:[a],n,t,_,"foreignObject"!==n.type&&r,i,u,o,c)),c||("value"in v&&void 0!==(a=v.value)&&(a!==e.value||"progress"===n.type&&!a)&&k(e,"value",a,h.value,!1),"checked"in v&&void 0!==(a=v.checked)&&a!==e.checked&&k(e,"checked",a,h.checked,!1))}return e}(_.__e,t,_,r,i,c,a,d);(h=e.diffed)&&h(t)}catch(n){t.__v=null,(d||null!=c)&&(t.__e=s,t.__h=!!d,c[c.indexOf(s)]=null),e.__e(n,t,_)}return t.__e}function H(n,t){e.__c&&e.__c(t,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(e){e.call(t)})}catch(n){e.__e(n,t.__v)}})}function N(n,t,_){try{"function"==typeof n?n(t):n.current=t}catch(n){e.__e(n,_)}}function A(n,t,_){var r,o,l;if(e.unmount&&e.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||N(r,null,t)),_||"function"==typeof n.type||(_=null!=(o=n.__e)),n.__e=n.__d=void 0,null!=(r=n.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(n){e.__e(n,t)}r.base=r.__P=null}if(r=n.__k)for(l=0;l<r.length;l++)r[l]&&A(r[l],t,_);null!=o&&c(o)}function P(e,n,t){return this.constructor(e,t)}e={__e:function(e,n){for(var t,_,r,o=n.__h;n=n.__;)if((t=n.__c)&&!t.__)try{if((_=t.constructor)&&null!=_.getDerivedStateFromError&&(t.setState(_.getDerivedStateFromError(e)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(e),r=t.__d),r)return n.__h=o,t.__E=t}catch(n){e=n}throw e},__v:0},p.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=u({},this.state),"function"==typeof e&&(e=e(u({},t),this.props)),e&&u(t,e),null!=e&&this.__v&&(n&&this.__h.push(n),v(this))},p.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),v(this))},p.prototype.render=f,n=[],t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,y.__r=0,r=o;var T,C,L,O=function(e){var n,t=e.selector,_=e.inline,r=e.clientSpecified,o=[],l=document.currentScript||(n=document.getElementsByTagName("script"))[n.length-1];return!0===_&&o.push(l.parentNode),!0!==r||t||(t=function(e){var n=e.attributes,t=null;return Object.keys(n).forEach(function(e){n.hasOwnProperty(e)&&"data-mount-in"===n[e].name&&(t=n[e].nodeValue)}),t}(l)),t&&[].forEach.call(document.querySelectorAll(t),function(e){o.push(e)}),o},D=0,F=[],M=e.__b,U=e.__r,W=e.diffed,j=e.__c,I=e.unmount;function q(n,t){e.__h&&e.__h(C,n,D||t),D=0;var _=C.__H||(C.__H={__:[],__h:[]});return n>=_.__.length&&_.__.push({}),_.__[n]}function B(e,n){var t=q(T++,7);return J(t.__H,n)&&(t.__=e(),t.__H=n,t.__h=e),t.__}function z(){F.forEach(function(n){if(n.__P)try{n.__H.__h.forEach(V),n.__H.__h.forEach(G),n.__H.__h=[]}catch(t){n.__H.__h=[],e.__e(t,n.__v)}}),F=[]}e.__b=function(e){C=null,M&&M(e)},e.__r=function(e){U&&U(e),T=0;var n=(C=e.__c).__H;n&&(n.__h.forEach(V),n.__h.forEach(G),n.__h=[])},e.diffed=function(n){W&&W(n);var t=n.__c;t&&t.__H&&t.__H.__h.length&&(1!==F.push(t)&&L===e.requestAnimationFrame||((L=e.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(_),R&&cancelAnimationFrame(n),setTimeout(e)},_=setTimeout(t,100);R&&(n=requestAnimationFrame(t))})(z)),C=void 0},e.__c=function(n,t){t.some(function(n){try{n.__h.forEach(V),n.__h=n.__h.filter(function(e){return!e.__||G(e)})}catch(_){t.some(function(e){e.__h&&(e.__h=[])}),t=[],e.__e(_,n.__v)}}),j&&j(n,t)},e.unmount=function(n){I&&I(n);var t=n.__c;if(t&&t.__H)try{t.__H.__.forEach(V)}catch(n){e.__e(n,t.__v)}};var R="function"==typeof requestAnimationFrame;function V(e){var n=C;"function"==typeof e.__c&&e.__c(),C=n}function G(e){var n=C;e.__c=e.__(),C=n}function J(e,n){return!e||e.length!==n.length||n.some(function(n,t){return n!==e[t]})}function $(e,n){return"function"==typeof n?n(e):n}var K,Q,X,Y=(function(e){!function(){var n={}.hasOwnProperty;function t(){for(var e=[],_=0;_<arguments.length;_++){var r=arguments[_];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var l=t.apply(null,r);l&&e.push(l)}else if("object"===o)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t}()}(K={exports:{}}),K.exports),Z=function(e){var n=e.className,t=function(e,n){if(null==e)return{};var t,_,r={},o=Object.keys(e);for(_=0;_<o.length;_++)n.indexOf(t=o[_])>=0||(r[t]=e[t]);return r}(e,["className"]);return a("input",Object.assign({class:Y("Input",n)},t))},ee=function(e){var n=e.firstName,t=(D=1,function(e,n,t){var _=q(T++,2);return _.t=e,_.__c||(_.__=[$(void 0,"User"),function(e){var n=_.t(_.__[0],e);_.__[0]!==n&&(_.__=[n,_.__[1]],_.__c.setState({}))}],_.__c=C),_.__}($)),_=t[0],r=t[1],o=function(e,n){return D=8,B(function(){return e},[])}(function(e){console.log("last name updated!",e.target.value),r(e.target.value)});return a("div",{class:"Foo"},a("p",null,"Hello, ",n," ",_),a("p",null,a(Z,{value:_,onInput:o})))};(X=function(n){var t=n.title,_=n.color;return function(n,t){var _=q(T++,3);!e.__s&&J(_.__H,t)&&(_.__=function(){"undefined"==typeof document||Q||((Q=document.head.appendChild(document.createElement("style"))).innerHTML=".Widget,.Widget>*{box-sizing:border-box}h1{text-align:center}.Input{border:1px solid #ddd;border-radius:.25rem;padding:.5rem 1rem}.Foo{padding:1rem}")},_.__H=t,C.__H.__h.push(_))}(0,[]),a("div",{class:"Widget"},a("h1",{style:{color:_}},t),a(ee,{firstName:"Joe"}))},{render:function(n){void 0===n&&(n={});var t=n.selector;void 0===t&&(t=null);var _=n.inline;void 0===_&&(_=!1);var i=n.clean;void 0===i&&(i=!1);var u=n.clientSpecified;void 0===u&&(u=!1);var c=n.defaultProps;void 0===c&&(c={});var s=O({selector:t,inline:_,clientSpecified:u}),p=function(){if(s.length>0){var n=O({selector:t,inline:_,clientSpecified:u});return function(n,t,_,i,u){t.forEach(function(t){var _=t;if(!_._habitat){_._habitat=!0;var c=function(e,n){void 0===n&&(n={});var t=e.attributes,_=Object.assign({},n);return Object.keys(t).forEach(function(e){if(t.hasOwnProperty(e)){var n=t[e].name;if(!n||"string"!=typeof n)return!1;var r=n.split(/(data-props?-)/).pop()||"";n!==(r=r.replace(/-([a-z])/gi,function(e,n){return n.toUpperCase()}))&&(_[r]=t[e].nodeValue)}}),[].forEach.call(e.getElementsByTagName("script"),function(e){var n={};if(e.hasAttribute("type")){if("text/props"!==e.getAttribute("type")&&"application/json"!==e.getAttribute("type"))return;try{n=JSON.parse(e.innerHTML)}catch(e){throw new Error(e)}Object.assign(_,n)}}),_}(t,u)||u;return i&&(_.innerHTML=""),function(n,t,_){var i,u,c;e.__&&e.__(n,t),u=(i=null===r)?null:t.__k,n=a(f,null,[n]),c=[],S(t,t.__k=n,u||o,o,void 0!==t.ownerSVGElement,u?null:t.childNodes.length?l.slice.call(t.childNodes):null,c,o,i),H(c,n)}(a(n,c),_)}})}(X,n,0,i,c)}};p(),document.addEventListener("DOMContentLoaded",p),document.addEventListener("load",p)}}).render({selector:'[data-widget-host="preact-ts-widget"]',clean:!0});
//# sourceMappingURL=index.js.map
